<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=400, initial-scale=1.0">
    <title>ReplyWise</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Additional inline styles to ensure proper sizing */
        html, body {
            width: 400px !important;
            min-width: 400px !important;
            max-width: 400px !important;
            overflow-x: hidden;
        }
    </style>
</head>
<body>
<div class="container">
    <!-- Modern Header with Logo -->
    <header class="modern-header">
        <div class="logo-container">
            <div class="logo-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.5 19H8C4 19 2 17 2 13V8C2 4 4 2 8 2H16C20 2 22 4 22 8V13C22 17 20 19 16 19H15.5C15.19 19 14.89 19.15 14.7 19.4L13.2 21.4C12.54 22.28 11.46 22.28 10.8 21.4L9.3 19.4C9.14 19.18 8.77 19 8.5 19Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M15.9965 11H16.0054" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M11.9955 11H12.0045" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7.99451 11H8.00349" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="brand-text">
                <h1>ReplyWise</h1>
                <p>AI-powered email responses</p>
            </div>
        </div>
    </header>

    <!-- Glassmorphism Card -->
    <div class="glass-card">
        <form id="emailForm">
            <div class="form-group">
                <label for="emailContent" class="modern-label">
                    <span class="label-text">Email Content</span>
                    <span class="label-icon">📧</span>
                </label>
                <div class="input-container">
                    <textarea
                            id="emailContent"
                            placeholder="Paste the email you received here..."
                            rows="4"
                            required
                            class="modern-textarea"
                    ></textarea>
                    <div class="input-glow"></div>
                </div>
                <div class="privacy-note">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 8V12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M12 16H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Your text is never stored
                </div>
            </div>

            <div class="form-group">
                <label for="toneSelect" class="modern-label">
                    <span class="label-text">Response Tone</span>
                    <span class="label-icon">🎯</span>
                </label>
                <div class="select-container">
                    <select id="toneSelect" required class="modern-select">
                        <option value="">Choose your tone...</option>
                        <option value="professional">💼 Professional</option>
                        <option value="friendly">😊 Friendly</option>
                        <option value="apologetic">🙏 Apologetic</option>
                        <option value="enthusiastic">🚀 Enthusiastic</option>
                        <option value="formal">🎩 Formal</option>
                        <option value="casual">😎 Casual</option>
                    </select>
                    <div class="select-arrow">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="input-glow"></div>
                </div>
            </div>

            <button type="submit" id="generateBtn" class="modern-button">
                <span id="btnText" class="button-content">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Generate Response
                </span>
                <span id="loader" class="loading-spinner hidden">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Generating...
                </span>
            </button>
        </form>

        <!-- Results Section -->
        <div id="results" class="results hidden">
            <div class="result-section">
                <h3 class="result-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Email Summary
                </h3>
                <div id="summaryOutput" class="output-box modern-output"></div>
            </div>

            <div class="result-section">
                <h3 class="result-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Suggested Response
                </h3>
                <div id="responseOutput" class="output-box modern-output"></div>
                <button id="copyBtn" class="copy-btn modern-copy-btn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                        <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Copy Response
                </button>
            </div>
        </div>

        <!-- Error Section -->
        <div id="error" class="error hidden">
            <div class="error-content">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2"/>
                    <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2"/>
                </svg>
                <p id="errorMessage"></p>
            </div>
            <button id="retryBtn" class="retry-btn">Try Again</button>
        </div>
    </div>

    <!-- Modern Footer -->
    <footer class="modern-footer">
        <div class="status-container">
            <div class="status-indicator"></div>
            <span class="status" id="status">Ready</span>
        </div>
    </footer>
</div>

<script src="popup.js"></script>
</body>
</html>